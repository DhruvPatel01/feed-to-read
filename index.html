<!DOCTYPE html>
<html lang="en">

  <head>
    <title>osmos::feed</title>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="robots" content="noindex, nofollow" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />
    <link rel="alternate" type="application/rss+xml" title="osmos::feed" href="feed.atom" />
    <link href="index.css?v1.14.4" rel="stylesheet" />
    <!-- %before-head-end.html% -->
  </head>

  <body>
    <!-- %after-body-begin.html% -->
      <section class="daily-content js-toggle-accordions-scope">
        <h2 class="daily-heading">
          <button
            class="daily-heading-toggle"
            data-action="toggle-accordions"
            title="Click to toggle the day, Ctrl + click to toggle all."
          >
            <time class="daily-heading-toggle__weekday js-offset-weekday" data-offset-date=2023-06-08 datetime="2023-06-08T20:47:56.000Z">2023-06-08</time>
            <time class="daily-heading-toggle__date js-offset-date" data-offset-date=2023-06-08 datetime="2023-06-08T20:47:56.000Z"></time>
          </button>
        </h2>
        <ul class="sources card">
            <li class="card__section">
              <section class="js-toggle-accordions-scope">
                <h3 class="source-heading">
                  <button
                    class="source-heading__name"
                    data-action="toggle-accordions"
                    title="Click to toggle the source, Ctrl + click to toggle all."
                  >Daniel Lemire&#x27;s blog</button>
                  <a class="source-heading__link" href="https://lemire.me/blog">Open</a>
                </h3>
                <section class="articles-per-source">
                    <article>
                      <details
                        class="article-expander"
                        data-action="toggle-native-accordion"
                        data-accordion-key="https://lemire.me/blog/?p&#x3D;20611"
                        open
                      >
                        <summary class="article-expander__title">Parsing IP addresses crazily fast</summary>
                        <a class="article-summary-link article-summary-box-outer" href="https://lemire.me/blog/2023/06/08/parsing-ip-addresses-crazily-fast/">
                          <div class="article-summary-box-inner media-object">
                              <img src="https://lemire.me/img/portrait2018facebook.jpg" loading="lazy" class="media-object__media article-image" />
                            <span class="media-object__text">
                              <span>Most of us are familiar with IP addresses: they are strings typically of the form “ddd.ddd.ddd.ddd” where ddd is a decimal number of up to three digits in the range 0 to 255. For example, 127.0.0.1 or 192.168.0.2. Each of the four number is a byte value, and the address is n IPv4 network address … Continue reading Parsing IP addresses crazily fast</span>
                                &ensp;<span class="article-reading-time">(&hairsp;14
                                  min&hairsp;)</span>
                            </span>
                          </div>
                        </a>
                      </details>
                    </article>
                </section>
              </section>
            </li>
        </ul>
      </section>
      <section class="daily-content js-toggle-accordions-scope">
        <h2 class="daily-heading">
          <button
            class="daily-heading-toggle"
            data-action="toggle-accordions"
            title="Click to toggle the day, Ctrl + click to toggle all."
          >
            <time class="daily-heading-toggle__weekday js-offset-weekday" data-offset-date=2023-06-05 datetime="2023-06-05T16:31:44.000Z">2023-06-05</time>
            <time class="daily-heading-toggle__date js-offset-date" data-offset-date=2023-06-05 datetime="2023-06-05T16:31:44.000Z"></time>
          </button>
        </h2>
        <ul class="sources card">
            <li class="card__section">
              <section class="js-toggle-accordions-scope">
                <h3 class="source-heading">
                  <button
                    class="source-heading__name"
                    data-action="toggle-accordions"
                    title="Click to toggle the source, Ctrl + click to toggle all."
                  >Netflix TechBlog - Medium</button>
                  <a class="source-heading__link" href="https://netflixtechblog.com?source&#x3D;rss----2615bd06b42e---4">Open</a>
                </h3>
                <section class="articles-per-source">
                    <article>
                      <details
                        class="article-expander"
                        data-action="toggle-native-accordion"
                        data-accordion-key="https://medium.com/p/6c87836a948"
                        open
                      >
                        <summary class="article-expander__title">Native Frame Rate Playback</summary>
                        <a class="article-summary-link article-summary-box-outer" href="https://netflixtechblog.com/native-frame-rate-playback-6c87836a948?source&#x3D;rss----2615bd06b42e---4">
                          <div class="article-summary-box-inner media-object">
                              <img src="https://miro.medium.com/v2/da:true/resize:fit:800/1*hO3tzOhKVzbfMZcgpJvRrA.gif" loading="lazy" class="media-object__media article-image" />
                            <span class="media-object__text">
                              <span>This article talks about a novel HDMI technology and how it is used within the Netflix Application to improve a user’s experience.</span>
                                &ensp;<span class="article-reading-time">(&hairsp;16
                                  min&hairsp;)</span>
                            </span>
                          </div>
                        </a>
                      </details>
                    </article>
                </section>
              </section>
            </li>
        </ul>
      </section>
      <section class="daily-content js-toggle-accordions-scope">
        <h2 class="daily-heading">
          <button
            class="daily-heading-toggle"
            data-action="toggle-accordions"
            title="Click to toggle the day, Ctrl + click to toggle all."
          >
            <time class="daily-heading-toggle__weekday js-offset-weekday" data-offset-date=2023-06-03 datetime="2023-06-03T20:41:56.000Z">2023-06-03</time>
            <time class="daily-heading-toggle__date js-offset-date" data-offset-date=2023-06-03 datetime="2023-06-03T20:41:56.000Z"></time>
          </button>
        </h2>
        <ul class="sources card">
            <li class="card__section">
              <section class="js-toggle-accordions-scope">
                <h3 class="source-heading">
                  <button
                    class="source-heading__name"
                    data-action="toggle-accordions"
                    title="Click to toggle the source, Ctrl + click to toggle all."
                  >Daniel Lemire&#x27;s blog</button>
                  <a class="source-heading__link" href="https://lemire.me/blog">Open</a>
                </h3>
                <section class="articles-per-source">
                    <article>
                      <details
                        class="article-expander"
                        data-action="toggle-native-accordion"
                        data-accordion-key="https://lemire.me/blog/?p&#x3D;20599"
                        open
                      >
                        <summary class="article-expander__title">Science and Technogy links (June 3 2023)</summary>
                        <a class="article-summary-link article-summary-box-outer" href="https://lemire.me/blog/2023/06/03/science-and-technogy-links-june-3-2023/">
                          <div class="article-summary-box-inner media-object">
                              <img src="https://lemire.me/img/portrait2018facebook.jpg" loading="lazy" class="media-object__media article-image" />
                            <span class="media-object__text">
                              <span>There are fewer serial killers these days. Some suggests it is due to better forensic techniques: we catch the killers faster and more efficiently. Between the beginnings of the Web (1996) and today, the household Internet connection bandwidth got over 5000 times faster. Thus what took nearly two hours of download time back then can … Continue reading Science and Technogy links (June 3 2023)</span>
                                &ensp;<span class="article-reading-time">(&hairsp;11
                                  min&hairsp;)</span>
                            </span>
                          </div>
                        </a>
                      </details>
                    </article>
                </section>
              </section>
            </li>
            <li class="card__section">
              <section class="js-toggle-accordions-scope">
                <h3 class="source-heading">
                  <button
                    class="source-heading__name"
                    data-action="toggle-accordions"
                    title="Click to toggle the source, Ctrl + click to toggle all."
                  >Posts on abhinavsarkar.net</button>
                  <a class="source-heading__link" href="https://abhinavsarkar.net/feed.atom">Open</a>
                </h3>
                <section class="articles-per-source">
                    <article>
                      <details
                        class="article-expander"
                        data-action="toggle-native-accordion"
                        data-accordion-key="https://abhinavsarkar.net/posts/implementing-co-4/?mtm_campaign&#x3D;feed"
                        open
                      >
                        <summary class="article-expander__title">Implementing Co, a Small Language With Coroutines #4: Adding Channels</summary>
                        <a class="article-summary-link article-summary-box-outer" href="https://abhinavsarkar.net/posts/implementing-co-4/?mtm_campaign&#x3D;feed">
                          <div class="article-summary-box-inner media-object">
                              <img src="https://abhinavsarkar.net/images/implementing-co-4/preview.png" loading="lazy" class="media-object__media article-image" />
                            <span class="media-object__text">
                              <span>In the previous post, we added coroutines to Co, the small language we are implementing in this series of posts. In this post, we add channels to it to be able to communicate between coroutines.
Implementing Co #1: The Parser
Implementing Co #2: The Interpreter
Implementing Co #3: Adding Coroutines
Implementing Co #4: Adding Channels
Implementing Co #5: Adding Sleep</span>
                                &ensp;<span class="article-reading-time">(&hairsp;18
                                  min&hairsp;)</span>
                            </span>
                          </div>
                        </a>
                      </details>
                    </article>
                </section>
              </section>
            </li>
        </ul>
      </section>
      <section class="daily-content js-toggle-accordions-scope">
        <h2 class="daily-heading">
          <button
            class="daily-heading-toggle"
            data-action="toggle-accordions"
            title="Click to toggle the day, Ctrl + click to toggle all."
          >
            <time class="daily-heading-toggle__weekday js-offset-weekday" data-offset-date=2023-06-02 datetime="2023-06-02T00:00:00.000Z">2023-06-02</time>
            <time class="daily-heading-toggle__date js-offset-date" data-offset-date=2023-06-02 datetime="2023-06-02T00:00:00.000Z"></time>
          </button>
        </h2>
        <ul class="sources card">
            <li class="card__section">
              <section class="js-toggle-accordions-scope">
                <h3 class="source-heading">
                  <button
                    class="source-heading__name"
                    data-action="toggle-accordions"
                    title="Click to toggle the source, Ctrl + click to toggle all."
                  >Nim Programming Language</button>
                  <a class="source-heading__link" href="https://nim-lang.org//">Open</a>
                </h3>
                <section class="articles-per-source">
                    <article>
                      <details
                        class="article-expander"
                        data-action="toggle-native-accordion"
                        data-accordion-key="https://nim-lang.org//blog/2023/06/02/this-month-with-nim.html"
                        open
                      >
                        <summary class="article-expander__title">This Month with Nim: April and May 2023</summary>
                        <a class="article-summary-link article-summary-box-outer" href="https://nim-lang.org//blog/2023/06/02/this-month-with-nim.html">
                          <div class="article-summary-box-inner media-object">
                              <img src="https://nim-lang.org/assets/img/twitter_banner.png" loading="lazy" class="media-object__media article-image" />
                            <span class="media-object__text">
                              <span>Nuance
Author: metagn
nuance is a library that provides:
Runtime-compatible types to represent Nim (untyped) AST including filename, line and column information.
Serialization of these types into an S-expression format that can be directly inserted inside a Nim triple-quoted string.
Deserialization to these types that works in the compile-time VM.
Conversion from these types into the compile-time NimNode type that can be used in macros.
This allows complex systems that generate Nim code to do it in a much faster and easier way than the current alternatives (making all code run only in the compile-time VM, generating it as raw text, interfacing with the compiler codebase etc.).
Examples of use cases may be templating engines, alternative parsers etc.
As a demonstration of what we can do, li…</span>
                                &ensp;<span class="article-reading-time">(&hairsp;4
                                  min&hairsp;)</span>
                            </span>
                          </div>
                        </a>
                      </details>
                    </article>
                </section>
              </section>
            </li>
            <li class="card__section">
              <section class="js-toggle-accordions-scope">
                <h3 class="source-heading">
                  <button
                    class="source-heading__name"
                    data-action="toggle-accordions"
                    title="Click to toggle the source, Ctrl + click to toggle all."
                  >matklad</button>
                  <a class="source-heading__link" href="https://matklad.github.io">Open</a>
                </h3>
                <section class="articles-per-source">
                    <article>
                      <details
                        class="article-expander"
                        data-action="toggle-native-accordion"
                        data-accordion-key="https://matklad.github.io/2023/06/02/the-worst-zig-version-manager.html"
                        open
                      >
                        <summary class="article-expander__title">The Worst Zig Version Manager</summary>
                        <a class="article-summary-link article-summary-box-outer" href="https://matklad.github.io/2023/06/02/the-worst-zig-version-manager.html">
                          <div class="article-summary-box-inner media-object">
                            <span class="media-object__text">
                              <span>https://github.com/matklad/hello-getzig</span>
                                &ensp;<span class="article-reading-time">(&hairsp;4
                                  min&hairsp;)</span>
                            </span>
                          </div>
                        </a>
                      </details>
                    </article>
                </section>
              </section>
            </li>
        </ul>
      </section>
      <section class="daily-content js-toggle-accordions-scope">
        <h2 class="daily-heading">
          <button
            class="daily-heading-toggle"
            data-action="toggle-accordions"
            title="Click to toggle the day, Ctrl + click to toggle all."
          >
            <time class="daily-heading-toggle__weekday js-offset-weekday" data-offset-date=2023-06-01 datetime="2023-06-01T19:22:48.000Z">2023-06-01</time>
            <time class="daily-heading-toggle__date js-offset-date" data-offset-date=2023-06-01 datetime="2023-06-01T19:22:48.000Z"></time>
          </button>
        </h2>
        <ul class="sources card">
            <li class="card__section">
              <section class="js-toggle-accordions-scope">
                <h3 class="source-heading">
                  <button
                    class="source-heading__name"
                    data-action="toggle-accordions"
                    title="Click to toggle the source, Ctrl + click to toggle all."
                  >Netflix TechBlog - Medium</button>
                  <a class="source-heading__link" href="https://netflixtechblog.com?source&#x3D;rss----2615bd06b42e---4">Open</a>
                </h3>
                <section class="articles-per-source">
                    <article>
                      <details
                        class="article-expander"
                        data-action="toggle-native-accordion"
                        data-accordion-key="https://medium.com/p/f99490fdf1ba"
                        open
                      >
                        <summary class="article-expander__title">Ensuring the Successful Launch of Ads on Netflix</summary>
                        <a class="article-summary-link article-summary-box-outer" href="https://netflixtechblog.com/ensuring-the-successful-launch-of-ads-on-netflix-f99490fdf1ba?source&#x3D;rss----2615bd06b42e---4">
                          <div class="article-summary-box-inner media-object">
                              <img src="https://miro.medium.com/v2/resize:fit:1172/1*WSR0HigxkANIu6uyIA-lkQ.png" loading="lazy" class="media-object__media article-image" />
                            <span class="media-object__text">
                              <span>By Jose Fernandez, Ed Barker, Hank Jacobs</span>
                                &ensp;<span class="article-reading-time">(&hairsp;10
                                  min&hairsp;)</span>
                            </span>
                          </div>
                        </a>
                      </details>
                    </article>
                </section>
              </section>
            </li>
            <li class="card__section">
              <section class="js-toggle-accordions-scope">
                <h3 class="source-heading">
                  <button
                    class="source-heading__name"
                    data-action="toggle-accordions"
                    title="Click to toggle the source, Ctrl + click to toggle all."
                  >Daniel Lemire&#x27;s blog</button>
                  <a class="source-heading__link" href="https://lemire.me/blog">Open</a>
                </h3>
                <section class="articles-per-source">
                    <article>
                      <details
                        class="article-expander"
                        data-action="toggle-native-accordion"
                        data-accordion-key="https://lemire.me/blog/?p&#x3D;20602"
                        open
                      >
                        <summary class="article-expander__title">Peak credentialism</summary>
                        <a class="article-summary-link article-summary-box-outer" href="https://lemire.me/blog/2023/06/01/peak-credentialism/">
                          <div class="article-summary-box-inner media-object">
                              <img src="https://lemire.me/img/portrait2018facebook.jpg" loading="lazy" class="media-object__media article-image" />
                            <span class="media-object__text">
                              <span>How much is a degree from a prestigious university worth? The answer is a bit difficult to answer because there are many cofounding factors: people from the connected class  (folks that ‘know people’) tend to attend the most prestigious universities, and they also tend to do well professionally. It is likely that highly connected people … Continue reading Peak credentialism</span>
                                &ensp;<span class="article-reading-time">(&hairsp;14
                                  min&hairsp;)</span>
                            </span>
                          </div>
                        </a>
                      </details>
                    </article>
                </section>
              </section>
            </li>
        </ul>
      </section>
      <section class="daily-content js-toggle-accordions-scope">
        <h2 class="daily-heading">
          <button
            class="daily-heading-toggle"
            data-action="toggle-accordions"
            title="Click to toggle the day, Ctrl + click to toggle all."
          >
            <time class="daily-heading-toggle__weekday js-offset-weekday" data-offset-date=2023-05-31 datetime="2023-05-31T01:38:31.000Z">2023-05-31</time>
            <time class="daily-heading-toggle__date js-offset-date" data-offset-date=2023-05-31 datetime="2023-05-31T01:38:31.000Z"></time>
          </button>
        </h2>
        <ul class="sources card">
            <li class="card__section">
              <section class="js-toggle-accordions-scope">
                <h3 class="source-heading">
                  <button
                    class="source-heading__name"
                    data-action="toggle-accordions"
                    title="Click to toggle the source, Ctrl + click to toggle all."
                  >null program</button>
                  <a class="source-heading__link" href="https://nullprogram.com">Open</a>
                </h3>
                <section class="articles-per-source">
                    <article>
                      <details
                        class="article-expander"
                        data-action="toggle-native-accordion"
                        data-accordion-key="https://nullprogram.com/blog/2023/05/31/"
                        open
                      >
                        <summary class="article-expander__title">Hand-written Windows API prototypes: fast, flexible, and tedious</summary>
                        <a class="article-summary-link article-summary-box-outer" href="https://nullprogram.com/blog/2023/05/31/">
                          <div class="article-summary-box-inner media-object">
                            <span class="media-object__text">
                              <span>I love fast builds, and for years I’ve been bothered by the build penalty
for translation units including windows.h. This header has an enormous
number of definitions and declarations and so, for C programs, it tends to
dominate the build time of those translation units. Most programs,
especially systems software, only needs a tiny portion of it. For example,
when compiling u-config with GCC, two thirds of the debug build was
spent processing windows.h just for 4 types, 16 definitions, and 16
prototypes.
To give a sense of the numbers, here’s empty.c, which does nothing but
include windows.h.

#include 


With the current Mingw-w64 headers, that’s ~82kLOC (non-blank):

$ gcc -E empty.c | grep -vc &#x27;^$&#x27;
82041


With w64devkit this takes my system ~450ms to compile with GCC:

$ tim…</span>
                                &ensp;<span class="article-reading-time">(&hairsp;5
                                  min&hairsp;)</span>
                            </span>
                          </div>
                        </a>
                      </details>
                    </article>
                </section>
              </section>
            </li>
        </ul>
      </section>
      <section class="daily-content js-toggle-accordions-scope">
        <h2 class="daily-heading">
          <button
            class="daily-heading-toggle"
            data-action="toggle-accordions"
            title="Click to toggle the day, Ctrl + click to toggle all."
          >
            <time class="daily-heading-toggle__weekday js-offset-weekday" data-offset-date=2023-05-26 datetime="2023-05-26T20:36:04.000Z">2023-05-26</time>
            <time class="daily-heading-toggle__date js-offset-date" data-offset-date=2023-05-26 datetime="2023-05-26T20:36:04.000Z"></time>
          </button>
        </h2>
        <ul class="sources card">
            <li class="card__section">
              <section class="js-toggle-accordions-scope">
                <h3 class="source-heading">
                  <button
                    class="source-heading__name"
                    data-action="toggle-accordions"
                    title="Click to toggle the source, Ctrl + click to toggle all."
                  >Daniel Lemire&#x27;s blog</button>
                  <a class="source-heading__link" href="https://lemire.me/blog">Open</a>
                </h3>
                <section class="articles-per-source">
                    <article>
                      <details
                        class="article-expander"
                        data-action="toggle-native-accordion"
                        data-accordion-key="https://lemire.me/blog/?p&#x3D;20589"
                        open
                      >
                        <summary class="article-expander__title">Expected performance of a Bloom filter</summary>
                        <a class="article-summary-link article-summary-box-outer" href="https://lemire.me/blog/2023/05/26/expected-performance-of-a-bloom-filter/">
                          <div class="article-summary-box-inner media-object">
                              <img src="https://lemire.me/img/portrait2018facebook.jpg" loading="lazy" class="media-object__media article-image" />
                            <span class="media-object__text">
                              <span>A hash function is a function that maps a value (such as a string) to an integer value. Typically, we want random-looking values. A Bloom filter is a standard data structure in computer science to approximate a set. Basically, you start with a large array of bits, all initialized at zero. Each time you want … Continue reading Expected performance of a Bloom filter</span>
                                &ensp;<span class="article-reading-time">(&hairsp;13
                                  min&hairsp;)</span>
                            </span>
                          </div>
                        </a>
                      </details>
                    </article>
                </section>
              </section>
            </li>
        </ul>
      </section>
      <section class="daily-content js-toggle-accordions-scope">
        <h2 class="daily-heading">
          <button
            class="daily-heading-toggle"
            data-action="toggle-accordions"
            title="Click to toggle the day, Ctrl + click to toggle all."
          >
            <time class="daily-heading-toggle__weekday js-offset-weekday" data-offset-date=2023-05-21 datetime="2023-05-21T00:00:00.000Z">2023-05-21</time>
            <time class="daily-heading-toggle__date js-offset-date" data-offset-date=2023-05-21 datetime="2023-05-21T00:00:00.000Z"></time>
          </button>
        </h2>
        <ul class="sources card">
            <li class="card__section">
              <section class="js-toggle-accordions-scope">
                <h3 class="source-heading">
                  <button
                    class="source-heading__name"
                    data-action="toggle-accordions"
                    title="Click to toggle the source, Ctrl + click to toggle all."
                  >matklad</button>
                  <a class="source-heading__link" href="https://matklad.github.io">Open</a>
                </h3>
                <section class="articles-per-source">
                    <article>
                      <details
                        class="article-expander"
                        data-action="toggle-native-accordion"
                        data-accordion-key="https://matklad.github.io/2023/05/21/resilient-ll-parsing-tutorial.html"
                        open
                      >
                        <summary class="article-expander__title">Resilient LL Parsing Tutorial</summary>
                        <a class="article-summary-link article-summary-box-outer" href="https://matklad.github.io/2023/05/21/resilient-ll-parsing-tutorial.html">
                          <div class="article-summary-box-inner media-object">
                            <span class="media-object__text">
                              <span>In this tutorial, I will explain a particular approach to parsing, which gracefully handles syntax errors and is thus suitable for language servers, which, by their nature, have to handle incomplete and invalid code.
Explaining the problem and the solution requires somewhat less than a trivial worked example, and I want to share a couple of tricks not directly related to resilience, so the tutorial builds a full, self-contained parser, instead of explaining abstractly just the resilience.</span>
                                &ensp;<span class="article-reading-time">(&hairsp;21
                                  min&hairsp;)</span>
                            </span>
                          </div>
                        </a>
                      </details>
                    </article>
                </section>
              </section>
            </li>
        </ul>
      </section>
      <section class="daily-content js-toggle-accordions-scope">
        <h2 class="daily-heading">
          <button
            class="daily-heading-toggle"
            data-action="toggle-accordions"
            title="Click to toggle the day, Ctrl + click to toggle all."
          >
            <time class="daily-heading-toggle__weekday js-offset-weekday" data-offset-date=2023-05-19 datetime="2023-05-19T19:21:03.000Z">2023-05-19</time>
            <time class="daily-heading-toggle__date js-offset-date" data-offset-date=2023-05-19 datetime="2023-05-19T19:21:03.000Z"></time>
          </button>
        </h2>
        <ul class="sources card">
            <li class="card__section">
              <section class="js-toggle-accordions-scope">
                <h3 class="source-heading">
                  <button
                    class="source-heading__name"
                    data-action="toggle-accordions"
                    title="Click to toggle the source, Ctrl + click to toggle all."
                  >Netflix TechBlog - Medium</button>
                  <a class="source-heading__link" href="https://netflixtechblog.com?source&#x3D;rss----2615bd06b42e---4">Open</a>
                </h3>
                <section class="articles-per-source">
                    <article>
                      <details
                        class="article-expander"
                        data-action="toggle-native-accordion"
                        data-accordion-key="https://medium.com/p/c75cd7989b6d"
                        open
                      >
                        <summary class="article-expander__title">Debugging a FUSE deadlock in the Linux kernel</summary>
                        <a class="article-summary-link article-summary-box-outer" href="https://netflixtechblog.com/debugging-a-fuse-deadlock-in-the-linux-kernel-c75cd7989b6d?source&#x3D;rss----2615bd06b42e---4">
                          <div class="article-summary-box-inner media-object">
                            <span class="media-object__text">
                              <span>Tycho Andersen</span>
                                &ensp;<span class="article-reading-time">(&hairsp;16
                                  min&hairsp;)</span>
                            </span>
                          </div>
                        </a>
                      </details>
                    </article>
                    <article>
                      <details
                        class="article-expander"
                        data-action="toggle-native-accordion"
                        data-accordion-key="https://medium.com/p/c118f374fa89"
                        open
                      >
                        <summary class="article-expander__title">ABAC on SpiceDB: Enabling Netflix’s Complex Identity Types</summary>
                        <a class="article-summary-link article-summary-box-outer" href="https://netflixtechblog.com/abac-on-spicedb-enabling-netflixs-complex-identity-types-c118f374fa89?source&#x3D;rss----2615bd06b42e---4">
                          <div class="article-summary-box-inner media-object">
                              <img src="https://miro.medium.com/v2/resize:fit:1200/1*SzRBmrSwBYBJyCjvcqFy3w.png" loading="lazy" class="media-object__media article-image" />
                            <span class="media-object__text">
                              <span>By Chris Wolfe, Joey Schorr, and Victor Roldán Betancort</span>
                                &ensp;<span class="article-reading-time">(&hairsp;16
                                  min&hairsp;)</span>
                            </span>
                          </div>
                        </a>
                      </details>
                    </article>
                </section>
              </section>
            </li>
            <li class="card__section">
              <section class="js-toggle-accordions-scope">
                <h3 class="source-heading">
                  <button
                    class="source-heading__name"
                    data-action="toggle-accordions"
                    title="Click to toggle the source, Ctrl + click to toggle all."
                  >Daniel Lemire&#x27;s blog</button>
                  <a class="source-heading__link" href="https://lemire.me/blog">Open</a>
                </h3>
                <section class="articles-per-source">
                    <article>
                      <details
                        class="article-expander"
                        data-action="toggle-native-accordion"
                        data-accordion-key="https://lemire.me/blog/?p&#x3D;20559"
                        open
                      >
                        <summary class="article-expander__title">The absurd cost of finalizers in Go</summary>
                        <a class="article-summary-link article-summary-box-outer" href="https://lemire.me/blog/2023/05/19/the-absurd-cost-of-finalizers-in-go/">
                          <div class="article-summary-box-inner media-object">
                              <img src="https://lemire.me/img/portrait2018facebook.jpg" loading="lazy" class="media-object__media article-image" />
                            <span class="media-object__text">
                              <span>The Go programming language makes it easy to call C code. Suppose you have the following C functions: char* allocate() { return (char*)malloc(100); } void free_allocated(char *c) { free(c); } Then you can call them from Go as follows: c :&#x3D; C.allocate() C.free_allocated(c) It works well. You might argue that my functions are useless, but … Continue reading The absurd cost of finalizers in Go</span>
                                &ensp;<span class="article-reading-time">(&hairsp;16
                                  min&hairsp;)</span>
                            </span>
                          </div>
                        </a>
                      </details>
                    </article>
                </section>
              </section>
            </li>
            <li class="card__section">
              <section class="js-toggle-accordions-scope">
                <h3 class="source-heading">
                  <button
                    class="source-heading__name"
                    data-action="toggle-accordions"
                    title="Click to toggle the source, Ctrl + click to toggle all."
                  >Max Slater</button>
                  <a class="source-heading__link" href="https://thenumb.at/">Open</a>
                </h3>
                <section class="articles-per-source">
                    <article>
                      <details
                        class="article-expander"
                        data-action="toggle-native-accordion"
                        data-accordion-key="https://thenumb.at/Pittsburgh/"
                        open
                      >
                        <summary class="article-expander__title">Pittsburgh</summary>
                        <a class="article-summary-link article-summary-box-outer" href="https://thenumb.at/Pittsburgh/">
                          <div class="article-summary-box-inner media-object">
                            <span class="media-object__text">
                              <span>University of Pittsburgh / Carnegie Mellon University, Pittsburgh, PA, 2023</span>
                            </span>
                          </div>
                        </a>
                      </details>
                    </article>
                </section>
              </section>
            </li>
            <li class="card__section">
              <section class="js-toggle-accordions-scope">
                <h3 class="source-heading">
                  <button
                    class="source-heading__name"
                    data-action="toggle-accordions"
                    title="Click to toggle the source, Ctrl + click to toggle all."
                  >Posts on abhinavsarkar.net</button>
                  <a class="source-heading__link" href="https://abhinavsarkar.net/feed.atom">Open</a>
                </h3>
                <section class="articles-per-source">
                    <article>
                      <details
                        class="article-expander"
                        data-action="toggle-native-accordion"
                        data-accordion-key="https://notes.abhinavsarkar.net/2023/mastodon-comments"
                        open
                      >
                        <summary class="article-expander__title">Adding Mastodon Comments to a Website</summary>
                        <a class="article-summary-link article-summary-box-outer" href="https://notes.abhinavsarkar.net/2023/mastodon-comments">
                          <div class="article-summary-box-inner media-object">
                            <span class="media-object__text">
                              <span>Two of the core ideas of IndieWeb are POSSE and Backfeed. The idea behind POSSE is that you publish your content on your own website first, and then syndicate it to other platforms. Backfeed means that you pull back the comments and likes from the other platforms to your own website. In this post, I describe how I implemented these ideas for this website with Mastodon.
Though it is possible to use services like Bridgy to implement POSSE and Backfeed, I chose to do it myself. Syndicating is just posting the URL of a blog post to Mastodon, so I do it manually. That lets me write a custom message for the post, and also lets me choose the right image to attach. For Backfeed, I use the Mastodon API to pull back the comments to this website.
At the end of each post, I add a link to the Mastodon post that links to the blog post, like:

You can like, share, or comment on this post on
[Mastodon](https://fantastic.earth/@abnv/110362391871164484){:class&#x3D;&quot;mastodon-link&quot;}.


Then this small Javascipt code pulls back the comments from Mastodon, and displays them on the post:

document.addEventListener(&quot;DOMContentLoaded&quot;, function() {
  let mastodonLink &#x3D; document.querySelector(&quot;a.mastodon-link&quot;);
  if (mastodonLink !&#x3D; null) {
    let parts &#x3D; mastodonLink.href.split(&quot;/&quot;);
    let postId &#x3D; parts[parts.length - 1];
    let main &#x3D; document.querySelector(&quot;main&quot;);
    fetch(&#x60;https://fantastic.earth/api/v1/statuses/${postId}/context&#x60;)
    .then(res &#x3D;&gt; res.json())
    .then(res &#x3D;&gt; {
      let comments &#x3D; res.descendants.filter(c &#x3D;&gt; c.visibility &#x3D;&#x3D;&#x3D; &quot;public&quot;);
      if (comments.length &#x3D;&#x3D;&#x3D; 0)
        return;

      let commentContainer &#x3D; document.createElement(&quot;div&quot;);
      commentContainer.className &#x3D; &quot;comments&quot;;

      let commentsHeader &#x3D; document.createElement(&quot;h2&quot;);
      commentsHeader.innerHTML &#x3D; &quot;Comments&quot;;
      commentContainer.appendChild(commentsHeader);

      for (let comment of comments) {
        let html &#x3D; &#x60;
&lt;a class&#x3D;&quot;account&quot; href&#x3D;&quot;${comment.account.url}&quot;&gt;${comment.account.username}&lt;/a&gt;
&lt;a class&#x3D;&quot;pubtime&quot; href&#x3D;&quot;${comment.url}&quot;&gt;
  &lt;time&gt;${new Date(comment.created_at).toLocaleString()}&lt;/time&gt;
&lt;/a&gt;
&lt;div class&#x3D;&quot;content&quot;&gt;${comment.content}&lt;/div&gt;&#x60;;
        let commentElement &#x3D; document.createElement(&quot;div&quot;);
        commentElement.innerHTML &#x3D; html;
        commentElement.className &#x3D; &quot;comment&quot;;
        if (comment.in_reply_to_id !&#x3D;&#x3D; postId) {
          commentElement.classList.add(&quot;reply&quot;);
        }
        commentContainer.appendChild(commentElement);
      }
      main.appendChild(commentContainer);
    });
  }
});


The Javascript code looks for the aforementioned link, and uses the Mastodon API to get the public comments on the linked Mastodon post. The comments are then added to the bottom of the blog post.
I also added some SCSS code to style the comments:

.comment {
  font-size: 0.95em;
  border: 1px dashed #787882;
  padding: 0.5rem;
  margin: 0.5rem 0;
  .content p:last-of-type {
    margin-bottom: 0;
  }
  .pubtime {
    float: right;
  }
  .content p {
    margin: 0.5rem auto;
  }
  &amp;.reply {
    margin-left: 1rem;
  }
}


The result looks like this:

That’s it! Now go ahead and like, share, or comment on this post on Mastodon.</span>
                                &ensp;<span class="article-reading-time">(&hairsp;2
                                  min&hairsp;)</span>
                            </span>
                          </div>
                        </a>
                      </details>
                    </article>
                </section>
              </section>
            </li>
        </ul>
      </section>
      <section class="daily-content js-toggle-accordions-scope">
        <h2 class="daily-heading">
          <button
            class="daily-heading-toggle"
            data-action="toggle-accordions"
            title="Click to toggle the day, Ctrl + click to toggle all."
          >
            <time class="daily-heading-toggle__weekday js-offset-weekday" data-offset-date=2023-05-15 datetime="2023-05-15T15:46:20.000Z">2023-05-15</time>
            <time class="daily-heading-toggle__date js-offset-date" data-offset-date=2023-05-15 datetime="2023-05-15T15:46:20.000Z"></time>
          </button>
        </h2>
        <ul class="sources card">
            <li class="card__section">
              <section class="js-toggle-accordions-scope">
                <h3 class="source-heading">
                  <button
                    class="source-heading__name"
                    data-action="toggle-accordions"
                    title="Click to toggle the source, Ctrl + click to toggle all."
                  >Daniel Lemire&#x27;s blog</button>
                  <a class="source-heading__link" href="https://lemire.me/blog">Open</a>
                </h3>
                <section class="articles-per-source">
                    <article>
                      <details
                        class="article-expander"
                        data-action="toggle-native-accordion"
                        data-accordion-key="https://lemire.me/blog/?p&#x3D;20542"
                        open
                      >
                        <summary class="article-expander__title">Computing the UTF-8 size of a Latin 1 string quickly (ARM NEON edition)</summary>
                        <a class="article-summary-link article-summary-box-outer" href="https://lemire.me/blog/2023/05/15/computing-the-utf-8-size-of-a-latin-1-string-quickly-arm-neon-edition/">
                          <div class="article-summary-box-inner media-object">
                              <img src="https://lemire.me/img/portrait2018facebook.jpg" loading="lazy" class="media-object__media article-image" />
                            <span class="media-object__text">
                              <span>While most of our software relies on Unicode strings, we often still encounter legacy encodings such as Latin 1. Before we convert Latin 1 strings to Unicode (e.g., UTF-8), we must compute the size of the UTF-8 string. It is fairly easy: all ASCII characters map 1 byte to 1 byte, while other characters (with … Continue reading Computing the UTF-8 size of a Latin 1 string quickly (ARM NEON edition)</span>
                                &ensp;<span class="article-reading-time">(&hairsp;14
                                  min&hairsp;)</span>
                            </span>
                          </div>
                        </a>
                      </details>
                    </article>
                </section>
              </section>
            </li>
        </ul>
      </section>
      <section class="daily-content js-toggle-accordions-scope">
        <h2 class="daily-heading">
          <button
            class="daily-heading-toggle"
            data-action="toggle-accordions"
            title="Click to toggle the day, Ctrl + click to toggle all."
          >
            <time class="daily-heading-toggle__weekday js-offset-weekday" data-offset-date=2023-05-13 datetime="2023-05-13T00:00:00.000Z">2023-05-13</time>
            <time class="daily-heading-toggle__date js-offset-date" data-offset-date=2023-05-13 datetime="2023-05-13T00:00:00.000Z"></time>
          </button>
        </h2>
        <ul class="sources card">
            <li class="card__section">
              <section class="js-toggle-accordions-scope">
                <h3 class="source-heading">
                  <button
                    class="source-heading__name"
                    data-action="toggle-accordions"
                    title="Click to toggle the source, Ctrl + click to toggle all."
                  >Posts on abhinavsarkar.net</button>
                  <a class="source-heading__link" href="https://abhinavsarkar.net/feed.atom">Open</a>
                </h3>
                <section class="articles-per-source">
                    <article>
                      <details
                        class="article-expander"
                        data-action="toggle-native-accordion"
                        data-accordion-key="https://notes.abhinavsarkar.net/2023/mastodon-backup"
                        open
                      >
                        <summary class="article-expander__title">Automating Mastodon Backups with NixOS and Syncthing</summary>
                        <a class="article-summary-link article-summary-box-outer" href="https://notes.abhinavsarkar.net/2023/mastodon-backup">
                          <div class="article-summary-box-inner media-object">
                            <span class="media-object__text">
                              <span>Six months ago, a bunch of my friends and I started the Mastodon instance fantastic.earth. Till now, we were kind of experimenting with it, but now that we are accepting new users, I wanted to make sure that we have a backup strategy for the Mastodon data. This post describes how I set up the backup system using NixOS, which we use to manage the server.
There are two kinds of data that we need to backup for Mastodon: the database and the media files. Mastodon uses PostgreSQL for database, and the media files are stored in a directory on the server. Fortunately, NixOS already has all the tools we need to do this, we just need to assemble them together.
The idea is to dump the Mastodon database hourly using pg_dump, encrypt it using GnuPG, and then back it up to one of more remote locations using Syncthing. The media files are backed up using Syncthing as well, but they are not encrypted. I chose this combination because I found it to be simpler and easier to understand that other options like Borg Backup, Restic, or Postgres WAL archiving.
Setting Up the PostgreSQL Backup
Here’s the Nix module that I wrote to set this up:
The NixOS module

  

{ lib, config, pkgs, ... }:

let
  mastodonCfg &#x3D; config.services.mastodon;
  syncthingCfg &#x3D; config.services.syncthing;
  dbName &#x3D; mastodonCfg.database.name;
  pgBackupDir &#x3D; config.services.postgresqlBackup.location;
  backupFileLocation &#x3D; &quot;${pgBackupDir}/${dbName}.sql.gz&quot;;
  encBackupFileLocation &#x3D; &quot;${backupFileLocation}.enc&quot;;
  backupEncPassphraseFile &#x3D; &quot;/var/lib/postgresql/backup-enc-passphrase&quot;;
  backupDir &#x3D; &quot;${syncthingCfg.dataDir}/Backups&quot;;
  mastodonFilesDir &#x3D; &quot;/var/lib/mastodon/public-system&quot;;
  devices &#x3D; [ ];
in
{
  services.postgresqlBackup &#x3D; {
    enable &#x3D; true;
    startAt &#x3D; &quot;*-*-* *:40:00&quot;;
    databases &#x3D; [ dbName ];
  };

  systemd.services.&quot;postgresqlBackup-${dbName}&quot;.serviceConfig &#x3D; {
    ExecStartPost &#x3D; &#x27;&#x27;
      /bin/sh -c &#x27;${pkgs.gnupg}/bin/gpg -c --batch --yes \
        --passphrase-file ${backupEncPassphraseFile} \
        --output ${encBackupFileLocation} ${backupFileLocation} &amp;&amp; \
      echo &quot;DB dump encrypted successfully&quot; &amp;&amp; \
      chgrp ${syncthingCfg.group} ${encBackupFileLocation} &amp;&amp; \
      mv ${encBackupFileLocation} ${backupDir}/ &amp;&amp; \
      echo &quot;DB dump moved to the backup directory&quot;&#x27;
    &#x27;&#x27;;
  };

  services.syncthing &#x3D; {
    enable &#x3D; true;
    devices &#x3D; builtins.listToAttrs (builtins.map
      (dev: {
        name &#x3D; dev;
        value &#x3D; { id &#x3D; builtins.readFile &quot;${syncthingCfg.dataDir}/${dev}-id&quot;; };
      })
      devices);
    folders &#x3D; {
      &quot;${backupDir}&quot; &#x3D;
        let folderId &#x3D; &quot;db-dump&quot;;
        in {
          id &#x3D; folderId;
          label &#x3D; folderId;
          devices &#x3D; devices;
          rescanInterval &#x3D; 300;
          type &#x3D; &quot;sendonly&quot;;
          versioning &#x3D; {
            type &#x3D; &quot;simple&quot;;
            params.keep &#x3D; &quot;6&quot;;
          };
        };
      &quot;${mastodonFilesDir}&quot; &#x3D;
        let folderId &#x3D; &quot;mastodon-files&quot;;
        in {
          id &#x3D; folderId;
          label &#x3D; folderId;
          devices &#x3D; devices;
          rescanInterval &#x3D; 60;
          type &#x3D; &quot;sendonly&quot;;
        };
    };
    extraFlags &#x3D; [ &quot;--no-upgrade&quot; &quot;--no-restart&quot; ];
  };

  systemd.tmpfiles.rules &#x3D; [
    &quot;z ${syncthingCfg.dataDir} 0750 ${syncthingCfg.user} ${syncthingCfg.group}&quot;
    &quot;d ${backupDir} 0775 ${syncthingCfg.user} ${syncthingCfg.group}&quot;
    &quot;z ${mastodonFilesDir} 0770 ${mastodonCfg.user} ${mastodonCfg.group}&quot;
    &quot;z ${backupEncPassphraseFile} 400 postgres postgres&quot;
  ];

  users.users &#x3D; {
    postgres.extraGroups &#x3D; [ syncthingCfg.group ];
    ${syncthingCfg.user}.extraGroups &#x3D; [ mastodonCfg.group ];
  };
}

  
In the NixOS module above, first, we enable the PostgreSQL Backup service to dump the Mastodon database every hour. Next, we use Systemd’s ExecStartPost setting to run a shell script after the database dump is taken. This script encrypts the database dump using GnuPG, and moves it to the Syncthing backup directory. The passphrase for the GnuPG encryption is stored in a file that is readable only by the postgresql user.
Next, we configure the Syncthing service to backup the Mastodon media files and the Backup directory containing the encrypted database dump to all the devices in the devices list. The directories are set to be sendonly so that any changes made to them on the backup devices are not synced back to the Mastodon server. The Backup directory is also configured to keep the last 6 versions of the database dump.
Finally, we set up file permissions and user groups so that the PostgreSQL user can write to the Syncthing backup directory, and the Syncthing user can read from the Mastodon files directory. That’s all for the NixOS module.
We also put a strong password in the file /var/lib/postgresql/backup-enc-passphrase that is used to encrypt the database dump.
Setting Up Syncthing
Before enabling the module we need to set up the Syncthing, the instructions for which are as follows:
Get the Mastodon server’s Syncthing device ID by running the following commands on the server:
    

 sudo su syncthing -s /bin/sh
 $(ls /nix/store/*syncthing*/bin/syncthing) --device-id

    
Copy the device ID, and use it to add a remote device in the Syncthing web UI of the backup device.
    
Check the “Auto Accept” checkbox in the Sharing tab.
Copy the device ID of the backup device, and use it to add a remote device in the Mastodon server:
    
While still logged in as the syncthing user after running the previous command on the server, create a file /var/lib/syncthing/&lt;backup-device-name&gt;-id, put the backup device’s device ID into it, and change the file’s mode to 400:
        

 echo &lt;backup-device-id&gt; &gt; /var/lib/syncthing/&lt;backup-device-name&gt;-id
 chmod 400 /var/lib/syncthing/&lt;backup-device-name&gt;-id

        
Edit the Nix module above to add the &lt;backup-device-name&gt; in the line containing devices &#x3D; [ ].
Deploy the module on the Mastodon server. This will start the Syncthing service on the server.
In the Syncthing web UI of the backup device:
    
accept the syncing for db-dump and mastodon-files folders,
click the “Edit” button in the db-dump folder’s section, and:
        
change the “File Versioning” option in the “File Versioning” tab to “Simple File Versioning”,
change the “Keep Versions” option to “6”, and
change the “Folder Type” option in the “Advanced” tab to “Receive Only”.
click the “Edit” button in the mastodon-files folder’s section, and:
        
add the ignore pattern “cache/**” in the “Ignore Patterns” tab, and
change the “Folder Type” option in the “Advanced” tab to “Receive Only”.
After this, the Syncthing backup should be set up and working as expected.
Restoring the Database
To restore the database, we need to decrypt the database dump, and then restore it using the pg_restore command:

gpg -d --batch --yes \
  --passphrase-file /var/lib/postgresql/backup-enc-passphrase \
  --output /tmp/mastodon.sql.gz /var/lib/syncthing/Backup/mastodon.sql.gz.enc
pg_restore --clean --if-exists --dbname mastodon /tmp/mastodon.sql.gz


That’s all for setting up the Syncthing backup for Mastodon. I hope this helps someone. If you have any questions or suggestions, please feel free to leave a comment. Thanks for reading!
You can like, share, or comment on this post on Mastodon.</span>
                                &ensp;<span class="article-reading-time">(&hairsp;4
                                  min&hairsp;)</span>
                            </span>
                          </div>
                        </a>
                      </details>
                    </article>
                </section>
              </section>
            </li>
        </ul>
      </section>
      <section class="daily-content js-toggle-accordions-scope">
        <h2 class="daily-heading">
          <button
            class="daily-heading-toggle"
            data-action="toggle-accordions"
            title="Click to toggle the day, Ctrl + click to toggle all."
          >
            <time class="daily-heading-toggle__weekday js-offset-weekday" data-offset-date=2023-05-12 datetime="2023-05-12T15:56:11.000Z">2023-05-12</time>
            <time class="daily-heading-toggle__date js-offset-date" data-offset-date=2023-05-12 datetime="2023-05-12T15:56:11.000Z"></time>
          </button>
        </h2>
        <ul class="sources card">
            <li class="card__section">
              <section class="js-toggle-accordions-scope">
                <h3 class="source-heading">
                  <button
                    class="source-heading__name"
                    data-action="toggle-accordions"
                    title="Click to toggle the source, Ctrl + click to toggle all."
                  >Daniel Lemire&#x27;s blog</button>
                  <a class="source-heading__link" href="https://lemire.me/blog">Open</a>
                </h3>
                <section class="articles-per-source">
                    <article>
                      <details
                        class="article-expander"
                        data-action="toggle-native-accordion"
                        data-accordion-key="https://lemire.me/blog/?p&#x3D;20534"
                        open
                      >
                        <summary class="article-expander__title">ARM instructions do “less work”?</summary>
                        <a class="article-summary-link article-summary-box-outer" href="https://lemire.me/blog/2023/05/12/arm-instructions-do-less-work/">
                          <div class="article-summary-box-inner media-object">
                              <img src="https://lemire.me/img/portrait2018facebook.jpg" loading="lazy" class="media-object__media article-image" />
                            <span class="media-object__text">
                              <span>Modern processors can execute several instructions per cycle. Because processors cannot easily run faster (in terms of clock speed), vendors try to get their processors to do more work per cycle. Apple processors are wide in the sense that they can retire many more instructions per cycle than comparable Intel or AMD processors. However, some … Continue reading ARM instructions do “less work”?</span>
                                &ensp;<span class="article-reading-time">(&hairsp;12
                                  min&hairsp;)</span>
                            </span>
                          </div>
                        </a>
                      </details>
                    </article>
                </section>
              </section>
            </li>
        </ul>
      </section>

    <footer>
      <a class="footer-link" href="https://github.com/DhruvPatel01/feed-to-read/actions/runs/5232843405">
        <time id="build-timestamp" datetime="2023-06-11T01:14:49.768Z">2023-06-11T01:14:49.768Z</time>
      </a>
      <a class="footer-link" href="https://github.com/osmoscraft/osmosfeed">osmosfeed 1.15.1</a>
    </footer>
    <script src="index.js?v1.14.4"></script>
    <!-- %before-body-end.html% -->
  </body>

</html>